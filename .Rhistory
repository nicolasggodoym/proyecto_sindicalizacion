sheet = "Cuadro 1", range = "B4:R71958",
na = "NULL") %>%
janitor::clean_names()
names(hoja1)
table(hoja1$codigo_cae)
table(hoja1$codigo_rae)
table(hoja1$rae)
hoja2 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 2", range = "B4:P15196",
na = "NULL") %>%
janitor::clean_names()
table(hoja2$cae_codigo)
table(hoja2$cae)
table(hoja2$rae_codigo)
table(hoja2$rae)
table(hoja2$rae_glosa)
hoja3 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 3", range = "B4:T2964",
na = "NULL") %>%
janitor::clean_names()
table(hoja3$cod_cae)
table(hoja3$cae)
table(hoja3$rae_codigo)
table(hoja3$rae)
table(hoja3$rae_glosa)
sum(is.na(hoja1$codigo_cae))
sum(is.na(hoja2$cae_codigo))
sum(is.na(hoja3$cod_cae))
#Cuadro 3: Listado de huelgas terminadas. Desde 01 enero 2005 al 30 septiembre 2023
#n=2960
hoja3 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 3", range = "B4:T2964",
na = "NULL") %>%
janitor::clean_names() %>%
select(rut_empresa = empresa, rsu = rsu_raf,
cae_dt = cod_cae,
ano_inicio_h = ano_inicio,
fecha_inicio_h = fecha_inicio,
ano_termino_h = ano_termino,
fecha_termino_h = fecha_termino,
dias_h = dias_huelga,
termino_neg_h = termino_negociacion,
trab_mas_h = trabajadores_hombres,
trab_fem_h = trabajadores_mujeres,
trab_tot_h = trabajadores,
region_h = region) %>%
mutate(rut_empresa = as.character(rut_empresa)) %>%
merge(., llave, by = "rut_empresa", all.x = T) %>%
group_by(rut_empresa, rsu, fecha_inicio_h) %>%
mutate(n = row_number()) %>%
ungroup() %>%
filter(n==1) %>%
select(-c(n, rsu))
rm(list = ls())
# Procesamiento data NC y Huelgas DT --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
#Cuadro 1: Listado de instrumentos colectivos y acuerdo de grupo negociador que
#inician vigencia. Registrados desde 01 enero 1999 al 04 octubre 2023
#n=71.954
hoja1 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 1", range = "B4:R71958",
na = "NULL") %>%
janitor::clean_names() %>%
select(rut_empresa, rsu,
cae_dt = codigo_cae,
ano_inicio_nc = ano_inicio,
fecha_inicio_nc = fecha_inicio_vigencia,
trab_empresa_nc = trab_empresa, region_nc = region,
tipo_inst = tipo_instrumento_colectivo_y_acuerdo_grupo_negociador,
tipo_neg = tipo_negociacion_colectiva,
trab_mas_nc = trabajadores_hombres_involucrados,
trab_fem_nc = trabajadores_mujeres_involucradas,
trab_tot_nc = trabajadores_total_involucrados) %>%
mutate(rut_empresa = as.character(rut_empresa)) %>%
merge(., llave, by = "rut_empresa", all.x = T) %>%
group_by(rut_empresa, rsu, fecha_inicio_nc) %>%
mutate(n = row_number()) %>%
ungroup() %>%
filter(n==1) %>%
select(-c(n, rsu))
#Cuadro 2: Listado de huelgas aprobadas. Desde 01 enero 2005 al 04 octubre 2023
#n=15192
hoja2 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 2", range = "B4:P15196",
na = "NULL") %>%
janitor::clean_names() %>%
select(rut_empresa, rsu,
cae_dt = cae_codigo,
ano_escrutinio_h = ano_escrutinio, fecha_escrutinio_h = fecha_escrutinio,
trab_mas_h = trabajadores_hombres,
trab_fem_h = trabajadores_mujeres,
trab_tot_h = trabajadores,
region_h = region,
tipo_org_h = tipo_org_sindical_y_grupo) %>%
merge(., llave, by = "rut_empresa", all.x = T) %>%
group_by(rut_empresa, rsu, fecha_escrutinio_h) %>%
mutate(n = row_number()) %>%
ungroup() %>%
filter(n==1) %>%
select(-c(n, rsu))
#Cuadro 3: Listado de huelgas terminadas. Desde 01 enero 2005 al 30 septiembre 2023
#n=2960
hoja3 = read_xlsx("input/data/dt/1590_NC_y_Huelgas_2005_2023.xlsx",
sheet = "Cuadro 3", range = "B4:T2964",
na = "NULL") %>%
janitor::clean_names() %>%
select(rut_empresa = empresa, rsu = rsu_raf,
cae_dt = cod_cae,
ano_inicio_h = ano_inicio,
fecha_inicio_h = fecha_inicio,
ano_termino_h = ano_termino,
fecha_termino_h = fecha_termino,
dias_h = dias_huelga,
termino_neg_h = termino_negociacion,
trab_mas_h = trabajadores_hombres,
trab_fem_h = trabajadores_mujeres,
trab_tot_h = trabajadores,
region_h = region) %>%
mutate(rut_empresa = as.character(rut_empresa)) %>%
merge(., llave, by = "rut_empresa", all.x = T) %>%
group_by(rut_empresa, rsu, fecha_inicio_h) %>%
mutate(n = row_number()) %>%
ungroup() %>%
filter(n==1) %>%
select(-c(n, rsu))
?list.files
files = list.files(path = "input/data/dt",
pattern = "1594")
ooss = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)))
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)))
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)))
ooss_fed = map(files,
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones"))
files
files[-8]
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)))
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones"))
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones"))
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales"))
files
str_extract(files, pattern = "OOSS_\\d{4}")
str_extract(files, pattern = "OOSS_|COES_\\d{4}")
str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
View(ooss_micro)
str_extract(files[-8], pattern = "OOSS_\\d{4}")
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)))
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones"))
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones"))
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales"))
names(ooss_cen) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)) %>%
janitor::clean_names())
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones") %>%
janitor::clean_names())
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones") %>%
janitor::clean_names())
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales") %>%
janitor::clean_names())
names(ooss_cen) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
View(ooss_micro)
ooss_micro
ooss_micro[-8]
names(ooss_micro)
str_extract(names(ooss_micro), pattern = "\\d{4}$")
names(ooss_micro[[1]])
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
#Microdatos
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)) %>%
janitor::clean_names())
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_micro = imap(ooss_micro[-8],
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
#Federaciones
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones") %>%
janitor::clean_names())
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_fed = imap(ooss_fed,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
#Confederaciones
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones") %>%
janitor::clean_names())
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = imap(ooss_conf,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
#Centrales
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales") %>%
janitor::clean_names())
names(ooss_cen) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_cen = imap(ooss_cen,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
#Microdatos
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x)) %>%
janitor::clean_names())
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_micro = imap(ooss_micro[-8],
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_micro = bind_rows(ooss_micro)
class(ooss_micro[[1]]$codigo_rae_sirela)
head(ooss_micro[[1]]$codigo_rae_sirela)
head(ooss_micro[[2]]$codigo_rae_sirela)
head(ooss_micro[[3]]$codigo_rae_sirela)
head(ooss_micro[[4]]$codigo_rae_sirela)
head(ooss_micro[[5]]$codigo_rae_sirela)
head(ooss_micro[[6]]$codigo_rae_sirela)
head(ooss_micro[[7]]$codigo_rae_sirela)
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
#Microdatos
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x),
na = "SIN INFORMACIÓN") %>%
janitor::clean_names())
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_micro = imap(ooss_micro[-8],
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_micro = bind_rows(ooss_micro)
#Federaciones
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names())
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_fed = imap(ooss_fed,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_fed = bind_rows(ooss_fed)
head(ooss_fed[[1]]$rsu_federacion_rsu_fed)
head(ooss_fed[[2]]$rsu_federacion_rsu_fed)
head(ooss_fed[[3]]$rsu_federacion_rsu_fed)
ooss_fed[[3]] %>% filter(str_detect(rsu_federacion_rsu_fed, pattern = "[[a-zA-Z]]"))
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(rsu_federacion_rsu_fed = as.character(rsu_federacion_rsu_fed)))
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_fed = imap(ooss_fed,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_fed = bind_rows(ooss_fed)
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_federacion_rsu_fed, rsu_raf), ~as.character())))
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_federacion_rsu_fed, rsu_raf), ~as.character(.))))
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_fed = imap(ooss_fed,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_fed = bind_rows(ooss_fed)
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names())
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = imap(ooss_conf,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_conf = bind_rows(ooss_conf)
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_federacion_rsu_fed), ~as.character(.))))
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_confederacion_rsu_confed), ~as.character(.))))
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = imap(ooss_conf,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_conf = bind_rows(ooss_conf)
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_confederacion_rsu_confed, rsu_raf), ~as.character(.))))
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = imap(ooss_conf,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_conf = bind_rows(ooss_conf)
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_confederacion_rsu_confed, rsu_raf), ~as.character(.))))
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names()
)
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_central_sindical_rsu_cent, rsu_raf), ~as.character(.))))
names(ooss_cen) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_cen = imap(ooss_cen,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_cen = bind_rows(ooss_cen)
rm(list = ls())
# Procesamiento data OOSS --------------------------------------
# Cargar paquetes ---------------------------------------------------------
pacman::p_load(tidyverse, readxl, sjmisc)
# Cargar datos ------------------------------------------------------------
llave = readRDS("input/data/dt/CAE_RUT_FINAL.rds") %>%
select(rut_empresa = rut, dv, cae = id_cae2) %>%
mutate(across(c(rut_empresa, dv), ~as.character(.)),
cae = as.numeric(cae))
files = list.files(path = "input/data/dt",
pattern = "1594")
#Microdatos
ooss_micro = map(files,
~ read_xlsx(paste0("input/data/dt/", .x),
na = "SIN INFORMACIÓN") %>%
janitor::clean_names())
names(ooss_micro) = str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
ooss_micro = imap(ooss_micro[-8],
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_micro = bind_rows(ooss_micro)
saveRDS(ooss_micro, "input/data/dt/ooss_micro.rds")
#Federaciones
ooss_fed = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Federaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_federacion_rsu_fed, rsu_raf), ~as.character(.))))
names(ooss_fed) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_fed = imap(ooss_fed,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_fed = bind_rows(ooss_fed)
saveRDS(ooss_fed, "input/data/dt/ooss_fed.rds")
#Confederaciones
ooss_conf = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Confederaciones",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_confederacion_rsu_confed, rsu_raf), ~as.character(.))))
names(ooss_conf) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_conf = imap(ooss_conf,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_conf = bind_rows(ooss_conf)
saveRDS(ooss_conf, "input/data/dt/ooss_conf.rds")
#Centrales
ooss_cen = map(files[-8],
~ read_xlsx(paste0("input/data/dt/", .x),
sheet = "Centrales",
na = "SIN INFORMACIÓN") %>%
janitor::clean_names() %>%
mutate(across(c(rsu_central_sindical_rsu_cent, rsu_raf), ~as.character(.))))
names(ooss_cen) = str_extract(files[-8], pattern = "OOSS_\\d{4}")
ooss_cen = imap(ooss_cen,
~ .x %>%
mutate(anno = str_extract(.y, pattern = "\\d{4}$")))
ooss_cen = bind_rows(ooss_cen)
saveRDS(ooss_cen, "input/data/dt/ooss_cen.rds")
files
str_extract(files, pattern = "(OOSS_|COES_)\\d{4}")
str_extract(files, pattern = "\\d{4}$")
View(ooss_micro)
